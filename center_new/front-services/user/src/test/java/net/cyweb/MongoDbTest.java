package net.cyweb;

import org.junit.runner.RunWith;
import org.springframework.boot.test.context.SpringBootTest;
import org.springframework.test.context.junit4.SpringRunner;

@RunWith(SpringRunner.class)
@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)
public class MongoDbTest {
//    @Autowired
//    private MongoTemplate mongoTemplate;

//    @Autowired
//    private YangTradeMapper yangTradeMapper;
//
//    @Autowired
//    private YangPairService yangPairService;
//    @Test
//    public void testMongo(){
//        List<YangTrade> yangTrades = yangTradeMapper.selectAll();
//
//        CollectionOptions collectionOptions = new CollectionOptions(10000,60,true);
//
//        for(YangTrade yangTrade : yangTrades){
//
//            String tradeCollection = "trade_collection_"+yangTrade.getCurrencyId()+"_"+yangTrade.getCurrencyTradeId();
//            mongoTemplate.createCollection(tradeCollection,collectionOptions);
//            mongoTemplate.save(yangTrade,tradeCollection);
//        }
////        yangTrade.setAddTime(123123123123213l);
//////        mongoTemplate.save(yangTrade);
////        mongoTemplate.save();
//    }
//
//    /*初始化mongoDB的交易对集合*/
//    private void initTradeMongo(){
//        /*所有的交易对信息*/
//        List<YangCurrencyPair> yangCurrencyPairList = yangPairService.selectAll();
//        Set<String> collectionNameSet = mongoTemplate.getCollectionNames();
//
//        for(YangCurrencyPair yangCurrencyPair : yangCurrencyPairList){
//            Boolean pairInited = false;
//            for(String collectionName :collectionNameSet){
////                if(collectionName.equals())
//            }
//        }
//    }
}
